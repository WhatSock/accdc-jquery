/*
Popup Module R1.1
Copyright 2010-2013 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
(function(){$A.setPopup=function(a){if(a&&!a.id){a.id=$A.genId()}if(typeof a.mode!=="number"){a.source=(function(){var b=$A.createEl("div");$A.load(b,a.source);return b})()}$A([a],{role:"Popup",bind:"click",forceFocus:true,accStart:"Start",accEnd:"End",accClose:"Close",autoPosition:3,cssObj:{position:"absolute"},allowCascade:true,runDuring:function(b){$A.bind(window,"resize.popup",function(){b.setPosition()})},announce:true,runAfterClose:function(b){$A.unbind(window,".popup")},keyDown:function(d,b){var c=d.which||d.keyCode;if(c==27){b.close()}},className:"popup",closeClassName:"popupClose"},true);return a.id}})();