<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>ARIA Tree From XML Module</title>

<meta name="Author" content="Bryan Garaventa" />

<link rel="stylesheet" type="text/css" href="css/global.css" />

<script type="text/javascript" src="../../js/jQuery.js"></script>
<script type="text/javascript" src="../../Acc.DC.API.js"></script>
<script type="text/javascript" src="js/aria_tree_module.js"></script>
<script type="text/javascript" src="js/google.js"></script>
<script type="text/javascript" src="js/setup.js"></script>

</head>
<body>
<div>

<div class="hd">
<h1>
ARIA Tree From XML Module Demo
</h1>
</div>

<div class="intro announce" id="ph"></div>

<div class="intro tal">
<p>
The ARIA Tree From XML Module dynamically generates an ARIA Tree control from an external XML file.
<br />
Module files:
</p>
<ol><li>
<a href="js/aria_tree_module.js" target="_blank">aria_tree_module.js</a> : Automatically generates an ARIA tree using an XML file to populate folder values.
</li><li>
<a href="js/google.js" target="_blank">google.js</a> : Automatically registers an AccDC Object for Google Map rendering.
</li><li>
<a href="files/tree.xml" target="_blank">tree.xml</a> : Where all values are declared.
</li></ol>
<p>
For specific coding guidance, view the
<a href="http://whatsock.com/tsg">
AccDC Technical Style Guide
</a>
</p>
</div>

<div class="hd">
<h2>
ARIA Tree Demo
</h2>
</div>

<div class="viewport">

<div id="container">
<div class="tree"></div>
</div>

<div id="map"></div>

</div>

<div class="intro tal">
<p>
Instructions:
</p>
<ul><li>
Using the mouse, click once to set focus on a tree item; click again to expand/collapse the selected subfolder.
</li><li>
Using a screen reader, press Tab or Arrow to the TreeView control and press Enter to activate.
</li><li>
Use the arrow keys to traverse and expand/collapse selected items and folders.
</li><li>
Press Home or End to jump to the first or last item in the tree.
</li></ul>
<p>
ARIA Tree functionality simulates the software browsing functionality of the Windows Explorer TreeView control.
</p>
</div>

<div class="hd">
<h2>
How It Works
</h2>
</div>

<div class="intro tal">
<p>
After the DOM finishes loading, a top level AccDC Object is opened, which queries the XML file and builds the initial list markup for the top level folder of the tree.
</p>
<p>
When a subfolder is expanded, a new AccDC Object is created to contain all child folder nodes, and then opened as a child of the parent AccDC Object.
</p>
<p>
The XML node "id" attribute is used to bind each folder item with the associated AccDC Object, and each expanded subfolder object is set as the child of the parent AccDC Object.<br />
The XML "name" attribute is used to render link text for each folder item.
</p>
<p>
The "handlers" object can be used to assign event handlers with any binding type, so that custom handlers can be added to all tree items, or to individual tree items using their "id" attribute.<br />
E.G.<br />
<code>
var handlers = {<br />
bind: 'click',<br />
'id': function(ev, dc){<br />
// Do something<br />
ev.preventDefault();<br />
}<br />
};
</code><br />
The "treeTitle" variable specifies a hidden label for the tree for screen reader users.
</p>
<p>
For this demo, the "handlers" object is used to query the Google Map AccDC Object with new coordinates pulled from the selected XML node.<br />
The Google Map AccDC Object is registered during setup, and then interfaced with at runtime.
</p>
</div>

<div class="hd">
<h2>
XML Syntax
</h2>
</div>

<div class="intro tal">
<p>
<code>
&lt;?xml version="1.0" encoding="UTF-8" ?&gt;<br />
&lt;tree&gt;<br />
&lt;folder id="uniqueID1" name="Folder Name"&gt;<br />
&lt;subfolder id="uniqueID2" name="Subfolder Name"&gt;<br />
&lt;item id="uniqueID3" name="Item Name"&gt;&lt;/item&gt;<br />
&lt;/subfolder&gt;<br />
&lt;item id="uniqueID4" name="Item Name"&gt;&lt;/item&gt;<br />
&lt;/folder&gt;<br />
&lt;/tree&gt;
</code>
</p>
</div>

</div>
</body>
</html>