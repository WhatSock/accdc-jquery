/*
Progress Bar Module R1.0
Copyright 2010-2013 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
	*/
$A.createEl("progress");(function(){$A.setProgressBar=function(a){if(!a||!a.id||!a.config){return null}var b=function(e,c){if(isNaN(c)){return""}if(!e){e=0}var d=parseInt((e/c)*100);return d+"%"};$A([a],{role:"Progress Bar",accStart:"Start",accEnd:"End",showHiddenClose:false,allowCascade:true,runBefore:function(c){c.source=$A.createEl("progress",{id:a.id,value:a.config.value,max:a.config.max,"aria-valuetext":b(a.config.value,a.config.max)})},set:function(e){var d=$A.reg[a.id],c=b(e,d.config.max);$A.setAttr(d.source,{value:e,"aria-valuetext":c});if(!d.announceInt||e==d.config.max){d.announceInt=true;$A.announce(c,true);d.timer=setTimeout(function(){d.announceInt=false},3000)}},config:a.config},false,true);return $A.reg[a.id]}})();