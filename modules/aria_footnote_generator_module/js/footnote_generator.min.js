/*
ARIA Footnote Generator Module R2.0
Copyright 2010-2013 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
(function(){$A.setFootnotes=function(b,d,c){var c=c||{},a=c.fnChar||"&#8224;",e=c.fnText||"Footnote",f=c.backText||"Back to Footnote",g={},d=d||document;$A.query(b,d,function(m,n){var l=$A.getAttr(n,"data-footnote"),k=m;if(!g[l]){g[l]={fns:[],last:0,name:$A.getText(n),targ:$A.getEl(l)}}var j=$A.createEl("a",{href:"#",title:e+(m+1),"aria-label":e+(m+1)},null,null,$A.createEl("sup",{"aria-hidden":"true"},null,null,document.createTextNode(m+1)));g[l].fns.push(j);n.appendChild(j);$A.bind(j,"click",function(i){g[l].last=$A.inArray(this,g[l].fns);g[l].fn.focus();i.preventDefault()});if(!g[l].fn){var h=$A.createEl("a",{href:"#",title:f+" "+g[l].name,"aria-label":f+" "+g[l].name},null,null,$A.createEl("span",{"aria-hidden":"true"},null,null,document.createTextNode(a)));g[l].fn=h;g[l].targ.appendChild(h);$A.bind(h,"click",function(i){g[l].fns[g[l].last].focus();i.preventDefault()})}})}})();