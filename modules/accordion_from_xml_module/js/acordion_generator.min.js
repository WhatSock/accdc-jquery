/*
Accordion From XML Module R1.0
Copyright 2010-2012 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the GNU LGPL
*/
(function(){$A.generateAccordion=function(b,n,k,d){var d=d||{},f=d.role||"Accordion",o=d.tabRole||"Accordion",j=d.tabState||"Open",i=d.className||"panel",l=d.openClassName||"open",g=null,c={},m=[],h="l"+$A.genId(),e=$A.createEl("div");$A.load(e,n,function(s){g=a(s);$A.query(g.documentElement.nodeName+" > *",g,function(v,w){m.push($A.createEl("a",{id:h+v},null,w.attributes.getNamedItem("class").nodeValue,document.createTextNode(w.attributes.getNamedItem("name").nodeValue)));c[h+v]=w.childNodes[0].nodeValue});var t=[],r=$A.createEl("ul");for(var q=0;q<m.length;q++){var p=$A.createEl("li");r.appendChild(p);p.appendChild(m[q]);t.push({id:h+q,trigger:m[q],source:c[h+q],autoStart:k===q?true:false})}b.appendChild(r);$A(t,{role:f,bind:"click",isTab:true,tabRole:o,tabState:j,isToggle:true,showHiddenClose:false,className:i,ariaLevel:3,runAfter:function(v){$A.query("a."+l+"."+v.triggerObj.className,b,function(){$A.remClass(this,l)});$A.addClass(v.triggerObj,l)}});for(var u in c){$A.reg[u].forceFocus=true}})};var a=function(b){if(!b){b=""}var c;if(window.DOMParser){var d=new DOMParser();c=d.parseFromString(b,"text/xml")}else{c=new ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(b)}return c}})();